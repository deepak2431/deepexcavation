/*! DeepExcavation 06-10-2017 */
"use strict";function csrfSafeMethod(a){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(a)}$(window).on("load",function(){var a=$(".feature-box",".features");a.on("mouseover",function(){return a.removeClass("active"),$(this).addClass("active"),!1});var b=$(".image-holder",".story"),c=$(".txt-col",".story"),d=$(".tool-tip",".platforms");$(window).width()>990?(b.css("height",c.height()+140),d.removeAttr("style")):d.each(function(a){$(this).css("margin-left",($(this).width()+20)/2*-1)})}),$(document).ready(function(){void 0!=Cookies.get("collapsedbar")&&($(".global-sidebar-bottom").addClass("noanim").addClass("collapsed"),$("button.toggle-button i").removeClass("fa-chevron-down").addClass("fa-chevron-up"))}),$(document).on("click","button.toggle-button",function(){$(".global-sidebar-bottom").hasClass("collapsed")?($(".global-sidebar-bottom").removeClass("noanim").removeClass("collapsed"),$(this).find("i").removeClass("fa-chevron-up").addClass("fa-chevron-down")):($(".global-sidebar-bottom").addClass("collapsed"),Cookies.set("collapsedbar","yes",{expires:4,path:""}),$(this).find("i").removeClass("fa-chevron-down").addClass("fa-chevron-up"))}),$.ajaxSetup({beforeSend:function(a,b){csrfSafeMethod(b.type)||a.setRequestHeader("X-CSRFToken",csrftoken)}}),$(document).on("click",".add-to-cart, .buy-now",function(){var a=[];$(this).closest("div.pricing-box").find("input.software_module").each(function(){$(this).is(":checked")&&a.push($(this).val())});var b=1;try{b=parseInt($(this).closest("div.pricing-box").find('input[name="num-licenses"]').val())}catch(a){b=1}var c=!1;return $(this).hasClass("buy-now")&&(c=!0),$.post($(this).data("add-to-cart-url"),{software_modules:a.join(","),quantity:b},function(a){c?window.location=cart_page:($("#shopping_cart .modal-body").html(a),$("#shopping_cart").modal("show"))}),!1}),$(document).on("click",".empty-cart",function(){$.post($(this).data("action-url"),{},function(a){window.location.reload()})}),$(document).on("change","input.software_module",function(){var a=$(this).data("price"),b=$(this).closest("div.pricing-box").find(".pricing-amount .price .amount"),c=($(b).data("price"),$(b).data("total-price"));$(this).is(":checked")?c+=a:c-=a,$(b).data("total-price",c),$(b).html(c)}),$(document).ready(function(){var a=document.location.toString();a.match("#")&&$("#"+a.split("#")[1]).addClass("in"),$("select.selectize").selectize({create:!1})}),$(document).on("click",".download-software",function(){var a=$(this).data("download-url");return $.get(sign_in_url,{next:a},function(a){$("#download_modal .modal-title").text("Sign in or Sign Up"),$("#download_modal .modal-body").html(a),$("select.selectize").selectize({create:!1}),$("#download_modal").modal("show")}),!1}),$(document).on("submit","form.login.ajax, form.signup.ajax",function(){var a=$(this).attr("action"),b="#"+$(this).parent("div.tab-pane").attr("id");console.log(b);var c=$(this).serialize(),d=$(this);return $.ajax({method:"POST",beforeSend:function(a){a.setRequestHeader("Accept","application/json")},url:a,data:c}).done(function(a,c,e){a.hasOwnProperty("location")?($("#download_modal").modal("hide"),window.location=a.location):a.hasOwnProperty("html")&&($(d).parents("div.modal-body").html(a.html),$('a[href="'+b+'"]').tab("show"),$("select.selectize").selectize({create:!1}))}).fail(function(a,c,e){var f=a.responseJSON;f.hasOwnProperty("html")?($(d).parents("div.modal-body").html(f.html),$('a[href="'+b+'"]').tab("show"),$("select.selectize").selectize({create:!1})):(alert("We are sorry an error has occurred"),$('a[href="'+b+'"]').tab("show"))}),!1});